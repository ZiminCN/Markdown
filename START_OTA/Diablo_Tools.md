# **Diablo Tools 界面开发记述**

整体框架原理：BASH脚本采用whiptail实现可视化界面，支持远程SSH连接显示，fedora、ubuntu、archlinux默认自带whiptail组件

实现功能：

1）整体功能：

暂列以下功能，删除线内功能待定

|        功能         |               功能描述               |
| :-----------------: | :----------------------------------: |
|       OTA服务       | 提供OTA固件版本查询、OTA固件升级服务 |
|   机器人信息查询    |          提供机器人相关信息          |
|   ~~SDK信息服务~~   |         ~~提供SDK更新服务~~          |
| ~~ROS环境一键配置~~ |    ~~提供ROS1、ROS2环境一键配置~~    |

2）OTA服务：

大致实现功能如下，会随版本更新更多功能

|       功能       | 功能描述                                                     |
| :--------------: | ------------------------------------------------------------ |
| 云端固件信息查询 | 查询云端发布至今的所有固件信息，包括**“版本”、“发布日期”、“文件大小”、“发布重点”、“产品支持列表”、“其他信息”** |
|     固件更新     | 会读取地平线和树莓派信息，只支持在地平线和树莓派上OTA更新    |
|                  |                                                              |

3）机器人信息查询

大致实现功能如下，需要数据库支持、会随着版本更新更多功能

| 功能           | 功能描述                                                     |
| -------------- | ------------------------------------------------------------ |
| 本地机器人信息 | 查询机器人SN码，查询机器人故障码、警告码，查询机器人系列号码 |
| 云端数据库信息 | 查询机器人质保信息，查询机器人维修信息，查询机器人出货时间，查询机器人购买日期 |
|                |                                                              |



# **界面功能流程图**



#### OTA进度条状态监测

检测打印输出顺序：

```bash
check_MQTT
check_BL
check_NewVersion
check_UpdateIAP
check_EnterAPP
check_FileStream
check_EnterCRC
check_EOF
check_AwaitNAK
check_ReceivedACK
check_InfoBlock
check_FlashFinishs
check_UpdateSuccess
```

